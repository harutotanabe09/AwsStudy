### CodeStarを使う 〜laravel〜

CodeStarを選択して新規プロジェクトの作成選択
![](./image-20190923100612342.png)

プロジェクトのテンプレートでPHP(Laravel)を選択
※　ElasticBeanstalkを選択。理由：デプロイした状態まで保存可能。

![image-20190923100724854](./image-20190923100724854.png)


プロジェクト名を入力。Githubに接続で、自身のGithubアカウントにログイン。![](./image-20190923100857851.png)

プロジェクトを作成するを選択。

![image-20190923101019098](./image-20190923101019098.png)

キーペアを作成して、プロジェクトを作成するを選択
 ダウンロードしたキーファイルは保存しておくこと

![](./image-20190923101109782.png)

次を選択

![image-20190923101234232](./image-20190923101234232.png)

しばらくすると環境が作成されることを確認

![image-20190923101734148](./image-20190923101734148.png)

EC2から対象のインスタンスを確認。パブリックのIPアドレスをコピーする

![](./image-20190923102459582.png)

ブラウザでコピーしたURLにアクセスするとlaravelの画面が表示される

![image-20190923102459581](./image-20190923102459581.png)

GitHubのソースコードを編集してプッシュする。

その後AWS CodeBuildが立ち上がっていることを確認

![image-20190923103210387](./image-20190923103210387.png)

再度画面を確認すると自動的に変更されてことを確認

![image-20190923103555314](./image-20190923103555314.png)

Cloud9を立ち上げ、画面下のターミナルよりGitをクローンする
再度コードを編集してみると問題なく動いていることを確認

![image-20190923104119731](./image-20190923104119731.png)



ダウンロードしたキーファイルをもとにEC2にログインする

以下、Macの場合。

```shell

ssh ec2-user@ec2-XX-XXX-XXX-XXX.ap-northeast-1.compute.amazonaws.com -i ＜キーファイル＞.pem

```



ElasticBeanstalkを選択して、

設定ー＞データベースの変更ボタンを選択
![image-2019092310411973](./image-2019092310411973.png)

データベースの設定より以下を設定するし、変更の適用を選択する

![image-20190924204350964](./image-20190924204350964.png)

 セキュリティのエラーのため失敗する

![image-20190924205146430](./image-20190924205146430.png)